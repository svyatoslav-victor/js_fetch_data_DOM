{"version":3,"sources":["scripts/main.js"],"names":["url","body","document","querySelector","ids","getPhones","fetch","then","response","ok","headers","get","includes","json","Promise","reject","Error","status","data","table","createElement","style","border","forEach","element","row","innerText","name","appendChild","push","id","phone","phoneDetails","catch","error","setTimeout","notification","setAttribute","textContent"],"mappings":";AAAA,aAEA,IAAMA,EAAM,mEACNC,EAAOC,SAASC,cAAc,QAC9BC,EAAM,GAEZ,SAASC,IACPC,MAASN,GAAAA,OAAAA,EAAT,UAAqBO,KAAK,SAAAC,GACpB,OAACA,EAASC,GAITD,EAASE,QAAQC,IAAI,gBAAgBC,SAAS,oBAI5CJ,EAASK,OAHPC,QAAQC,OAAO,IAAIC,MAAM,wBAJzBF,QAAQC,OAAO,IAAIC,MAASR,GAAAA,OAAAA,EAASS,YAU7CV,KAAK,SAAAW,GACEC,IAAAA,EAAQjB,SAASkB,cAAc,SAErCD,EAAME,MAAMC,OAAS,mBAErBJ,EAAKK,QAAQ,SAAAC,GACLC,IAAAA,EAAMvB,SAASkB,cAAc,MAEnCK,EAAIC,UAAYF,EAAQG,KACxBR,EAAMS,YAAYH,GAClBrB,EAAIyB,KAAKL,EAAQM,MAGnB7B,EAAK2B,YAAYT,GAkBAf,EAfPmB,QAAQ,SAAAQ,GACdzB,MAASN,GAAAA,OAAAA,EAAO+B,KAAAA,OAAAA,EAAhB,UAA8BxB,KAAK,SAAAC,GAC7B,OAACA,EAASC,GAIPD,EAASK,OAHPC,QAAQC,OAAO,IAAIC,MAASR,GAAAA,OAAAA,EAASS,YAM7CV,KAAK,SAAAyB,GAAgBA,OAAAA,IAErBC,MAAM,SAAAC,GAASA,OAAAA,QAOvBD,MAAM,SAACC,GACNC,WAAW,WACHC,IAAAA,EAAelC,SAASkB,cAAc,OAE5CgB,EAAaC,aAAa,QAA1B,2UAcAD,EAAaE,YAA8BJ,gBAAAA,OAAAA,GAC3CjC,EAAK2B,YAAYQ,IAChB,OAIT/B","file":"main.ea58a44f.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst url = 'https://mate-academy.github.io/phone-catalogue-static/api/phones';\nconst body = document.querySelector('body');\nconst ids = [];\n\nfunction getPhones() {\n  fetch(`${url}.json`).then(response => {\n    if (!response.ok) {\n      return Promise.reject(new Error(`${response.status}`));\n    }\n\n    if (!response.headers.get('content-type').includes('application/json')) {\n      return Promise.reject(new Error('Wrong content-type!'));\n    }\n\n    return response.json();\n  })\n\n    .then(data => {\n      const table = document.createElement('table');\n\n      table.style.border = 'thick solid #000';\n\n      data.forEach(element => {\n        const row = document.createElement('tr');\n\n        row.innerText = element.name;\n        table.appendChild(row);\n        ids.push(element.id);\n      });\n\n      body.appendChild(table);\n\n      function getPhonesDetails(idArray) {\n        idArray.forEach(phone => {\n          fetch(`${url}/${phone}.json`).then(response => {\n            if (!response.ok) {\n              return Promise.reject(new Error(`${response.status}`));\n            }\n\n            return response.json();\n          })\n\n            .then(phoneDetails => phoneDetails)\n\n            .catch(error => error);\n        });\n      }\n\n      getPhonesDetails(ids);\n    })\n\n    .catch((error) => {\n      setTimeout(() => {\n        const notification = document.createElement('div');\n\n        notification.setAttribute('style', `\n        display: flex;\n        width: 300px;\n        height: 50px;\n        justify-content: center;\n        align-items: center;\n        position: absolute;\n        top: 10%;\n        right: 10%;\n        background-color: red;\n        font-size: 24px;\n        font-weight: bold;\n        border-radius: 30px;\n      `);\n        notification.textContent = `ERROR - code ${error}`;\n        body.appendChild(notification);\n      }, 5000);\n    });\n}\n\ngetPhones();\n"]}